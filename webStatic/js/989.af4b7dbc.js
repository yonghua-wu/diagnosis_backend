"use strict";(self["webpackChunkseeingflow_webapp"]=self["webpackChunkseeingflow_webapp"]||[]).push([[989],{7893:function(e,t,a){a.d(t,{Z:function(){return o}});var l=a(7099);const r="image";class o{static async page(e,t){const a=await l.Z.get(`/${r}/page`,{params:{current:e,size:t}});if(200===a.code)return a.data;throw a}static async detail(e){const t=await l.Z.get(`/${r}/detail`,{params:{id:e}});if(200===t.code)return t.data;throw t}static async update(e){const t=await l.Z.post(`/${r}/update`,{...e});if(200===t.code)return t.data;throw t}static async create(e){const t=await l.Z.post(`/${r}/add`,{...e});if(200===t.code)return t.data;throw t}static async delete(e){const t=await l.Z["delete"](`/${r}/delete`,{params:{id:e}});if(200===t.code)return t.data;throw t}}},8518:function(e,t,a){a.d(t,{x:function(){return i}});var l=a(9003),r=a(6624),o=a(4419),n=a(678);function i(){const e=(0,n.yj)(),t=(0,l.iH)(e.params.model);(0,l.YP)((()=>e.params.model),(()=>{t.value=e.params.model}));const a=(0,l.Fl)((()=>{switch(t.value){case"Add":return"添加";case"Edit":return"编辑";default:case"View":return"详情"}}));return{pageModel:t,pageModelName:a}}t["Z"]=(0,l.aZ)({name:"CUComponent",props:{showModalTips:{type:Boolean,required:!0}},setup(e,{slots:t}){const{showModalTips:a}=(0,o.BK)(e),d=(0,n.tv)(),p=(0,n.yj)(),s=()=>{c().then((e=>{if(e)if(history.state.back)d.go(-1);else{const e=p.name.replace(/Detail*/,"");d.push({name:e})}}))},u=()=>{d.push({name:p.name,params:{id:p.params.id,model:"Edit"}})},c=async()=>{if(!a.value)return!0;try{return await new Promise(((e,t)=>{r.Z.warning({title:"提示",content:"信息未保存，确定退出编辑？",closable:!0,cancelText:"取消",hideCancel:!1,onOk:()=>{e(!0)},onCancel:()=>{t(!1)}})})),!0}catch(e){return!1}},{pageModel:m,pageModelName:f}=i(),b=()=>(0,l.Wm)(l.HY,null,[(0,l.Wm)((0,l.up)("a-button"),{shape:"circle",type:"text",onClick:()=>s()},{default:()=>[(0,l.Wm)((0,l.up)("icon-left"),null,null)]}),(0,l.Wm)("span",null,[(0,l.Uk)(" "),f.value,(0,l.Uk)(" ")])]),y=()=>"View"===m.value?(0,l.Wm)((0,l.up)("a-space"),null,{default:()=>[t.extra?t.extra():(0,l.Wm)((0,l.up)("a-button"),{type:"primary",onClick:()=>u()},{default:()=>[(0,l.Wm)((0,l.up)("icon-edit"),null,null),(0,l.Uk)(" 编辑")]})]}):(0,l.Wm)((0,l.up)("a-space"),null,{default:()=>[t.extra?.(),(0,l.Wm)("div",null,null)]});return()=>(0,l.Wm)((0,l.up)("a-card"),null,{default:()=>[t.default?.({pageModel:m,pageModelName:f})],title:b,extra:y})}})},9262:function(e,t,a){var l=a(9003);t["Z"]=(0,l.aZ)({name:"sf-form",props:{model:{type:Object},layout:{type:String},size:{type:String},labelColProps:{type:Object},wrapperColProps:{type:Object},labelAlign:{type:String},disabled:{type:Boolean},rules:{type:Object},autoLabelWidth:{type:Boolean},formModel:{type:String,default:()=>"Edit"},labelWidth:{type:Number,default:()=>90},formMaxWidth:{type:[Number,Boolean],default:()=>1500}},setup(e,{slots:t}){(0,l.JJ)("formModel",e.formModel),(0,l.JJ)("labelWidth",e.labelWidth),(0,l.JJ)("disabled",e.disabled);const a=(0,l.iH)();return{validate(e){return a.value.validate(e)},render:()=>(0,l.Wm)((0,l.up)("a-form"),(0,l.dG)({ref:a},e,{style:e.formMaxWidth>1?`max-width:${e.formMaxWidth}px`:""}),{default:()=>[(0,l.Wm)((0,l.up)("a-row"),{gutter:8},{default:()=>[t.default?.()]})]})}},render(){return this.render()}})},8468:function(e,t,a){var l=a(9003),r=a(678);t["Z"]=(0,l.aZ)({name:"sf-form-item",props:{field:{type:String},label:{type:String},showColon:{type:Boolean},noStyle:{type:Boolean},disabled:{type:Boolean},help:{type:String},extra:{type:String},required:{type:Boolean},rules:{type:Object},validateStatus:{type:String},validateTrigger:{type:String},labelColProps:{type:Object},wrapperColProps:{type:Object},hideLabel:{type:Boolean},hideAsterisk:{type:Boolean},labelColStyle:{type:Object},wrapperColStyle:{type:Object},rowProps:{type:Object},rowClass:{type:Object},contentClass:{type:Object},contentFlex:{type:Boolean},mergeProps:{type:Boolean},labelColFlex:{type:[Number,String]},feedback:{type:Boolean},labelComponent:{type:String},labelAttrs:{type:Object},colProps:{type:Object,default:()=>({xs:24,sm:24,md:12,lg:12,xl:8})}},setup(e,{slots:t}){const a=(0,l.f3)("labelWidth"),o=(0,l.f3)("disabled"),n=(0,l.f3)("formModel"),i=e.labelColFlex||a+"px",d=(0,r.yj)();return()=>(0,l.Wm)((0,l.up)("a-col"),e.colProps,{default:()=>[(0,l.Wm)((0,l.up)("a-form-item"),(0,l.dG)({id:String(d.name)+"-"+e.field},e,{disabled:o||e.disabled,labelColFlex:i}),{default:()=>["View"===n&&t.view?.()||t.default?.()]})]})}})},4880:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(9003),r=a(678);function o(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var n=(0,l.aZ)({name:"BreadcrumbComponent",props:{items:{type:Array,default:()=>[]}},setup(e){(0,r.tv)();const{items:t}=(0,l.BK)(e);return()=>(0,l.Wm)((0,l.up)("a-breadcrumb"),{class:"container-breadcrumb"},{default:()=>[(0,l.Wm)((0,l.up)("a-breadcrumb-item"),null,{default:()=>[(0,l.Wm)((0,l.up)("icon-apps"),null,null)]}),t.value.map(((e,t)=>"string"==typeof e?(0,l.Wm)((0,l.up)("a-breadcrumb-item"),{key:t},o(e)?e:{default:()=>[e]}):(0,l.Wm)((0,l.up)("a-breadcrumb-item"),{key:t,onClick:()=>e.router(),class:"breadcrumb-clickable"},{default:()=>[e.name]})))]})}}),i=a(89);const d=(0,i.Z)(n,[["__scopeId","data-v-0dac1d28"]]);var p=d},9989:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var l=a(9003);const r={class:"user-detail container"},o={key:1};function n(e,t,a,n,i,d){const p=(0,l.up)("Breadcrumb"),s=(0,l.up)("SfFormItem"),u=(0,l.up)("a-image"),c=(0,l.up)("SfForm"),m=(0,l.up)("CUVue"),f=(0,l.up)("a-spin");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(p,{items:["图像管理","详情"]}),(0,l.Wm)(f,{loading:e.loading,style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{showModalTips:!1},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{ref:"refForm",model:e.formData,formModel:e.pageModel},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{"col-props":{span:24},field:"patientName",label:"患者姓名"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.patientName),1)])),_:1}),(0,l.Wm)(s,{"col-props":{span:24},field:"imageProperties",label:"图像属性"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(1===e.formData.imageProperties?"左眼":"右眼"),1)])),_:1}),(0,l.Wm)(s,{"col-props":{span:24},field:"diagnosticStatus",label:"AI诊断状态"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(1===e.formData.diagnosticStatus?"诊断中":"已诊断"),1)])),_:1}),(0,l.Wm)(s,{"col-props":{span:24},field:"imageAddress",label:"图像"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{src:"/diagnosis"+e.formData.imageAddress,height:200},null,8,["src"])])),_:1}),(0,l.Wm)(s,{"col-props":{span:24},field:"resultImg",label:"识别结果"},{default:(0,l.w5)((()=>[e.formData.resultImg?((0,l.wg)(),(0,l.j4)(u,{key:0,src:"/diagnosis"+e.formData.resultImg,height:200},null,8,["src"])):((0,l.wg)(),(0,l.iD)("span",o,"暂无结果"))])),_:1})])),_:1},8,["model","formModel"])])),_:1})])),_:1},8,["loading"])])}var i=a(8518),d=a(9262),p=a(8468),s=a(4880),u=a(678),c=a(7893),m=(0,l.aZ)({name:"user-detail",components:{CUVue:i.Z,SfForm:d.Z,SfFormItem:p.Z,Breadcrumb:s.Z},setup(){const e=(0,l.iH)(!1),t=(0,l.iH)({patientName:"",imageProperties:null,diagnosticStatus:null,imageAddress:"",resultImg:""}),{pageModel:a,pageModelName:r}=(0,i.x)(),o=(0,u.yj)(),n=()=>{e.value=!0,c.Z.detail(o.params.id).then((e=>{t.value=e})).finally((()=>{e.value=!1}))};return n(),{loading:e,formData:t,pageModel:a,pageModelName:r}}}),f=a(89);const b=(0,f.Z)(m,[["render",n],["__scopeId","data-v-1b41c383"]]);var y=b}}]);