"use strict";(self["webpackChunkseeingflow_webapp"]=self["webpackChunkseeingflow_webapp"]||[]).push([[954],{9810:function(e,t,a){a.d(t,{Z:function(){return r}});var l=a(7099);const s="model";class r{static async page(e,t){const a=await l.Z.get(`/${s}/page`,{params:{current:e,size:t}});if(200===a.code)return a.data;throw a}static async getAll(){let e=1;const t=[];do{const a=await this.page(e,100);if(t.push(...a.list),a.list.length<100)break}while(e++);return t}static async detail(e){const t=await l.Z.get(`/${s}/detail`,{params:{id:e}});if(200===t.code)return t.data;throw t}static async update(e){const t=await l.Z.post(`/${s}/update`,{...e});if(200===t.code)return t.data;throw t}static async create(e){const t=await l.Z.post(`/${s}/create`,{...e});if(200===t.code)return t.data;throw t}static async delete(e){const t=await l.Z["delete"](`/${s}/delete`,{params:{id:e}});if(200===t.code)return t.data;throw t}}},1895:function(e,t,a){a.d(t,{Z:function(){return s}});var l=a(2482);class s{constructor(){(0,l.Z)(this,"rules",void 0),this.rules=[]}done(){return 0===this.rules.length?[{required:!1}]:this.rules}required(e){return this.rules.push({required:!0,message:e||"此字段必须"}),this}type(e,t){return this.rules.push({type:e,message:t||"数据类型不正确"}),this}length(e,t){return this.rules.push({length:e,message:t||"长度必须等于"+e}),this}maxLength(e,t){return this.rules.push({maxLength:e,message:t||"长度不能超过"+e}),this}minLength(e,t){return this.rules.push({minLength:e,message:t||"长度不能小于"+e}),this}match(e,t){return this.rules.push({match:e,message:t||"正则匹配失败"}),this}uppercase(e,t){return this.rules.push({uppercase:e,message:t||"必须大写"}),this}lowercase(e,t){return this.rules.push({lowercase:e,message:t||"必须小写"}),this}min(e,t){return this.rules.push({min:e,message:t||"数值不能小于"+e}),this}max(e,t){return this.rules.push({max:e,message:t||"数值不能大于"+e}),this}equal(e,t){return this.rules.push({equal:e,message:t||"数值必须等于"+e}),this}positive(e,t){return this.rules.push({positive:e,message:t||"必须正数"}),this}negative(e,t){return this.rules.push({negative:e,message:t||"必须负数"}),this}true(e,t){return this.rules.push({true:e,message:t||"必须为 true"}),this}false(e,t){return this.rules.push({false:e,message:t||"必须为 false"}),this}includes(e,t){return this.rules.push({includes:e,message:t||"匹配失败，必须是给定值之一"}),this}deepEqual(e,t){return this.rules.push({deepEqual:e,message:t||"匹配失败，必须是给定值"}),this}empty(e,t){return this.rules.push({empty:e,message:t||"必须为空"}),this}hasKeys(e,t){return this.rules.push({hasKeys:e,message:t||"必须包含指定属性"}),this}validator(e){return this.rules.push({validator:e}),this}phone(e){return this.match(/^1(3\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\d|9[0-35-9])\d{8}$/,e||"手机号码格式不正确"),this}idCard(e){return this.match(/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,e||"身份证号码格式不正确"),this}numbersAndLetters(e){return this.match(/^[a-z0-9A-Z]+$/,e||"只能由数字和字母组成"),this}}},8518:function(e,t,a){a.d(t,{x:function(){return n}});var l=a(9003),s=a(6624),r=a(4419),u=a(678);function n(){const e=(0,u.yj)(),t=(0,l.iH)(e.params.model);(0,l.YP)((()=>e.params.model),(()=>{t.value=e.params.model}));const a=(0,l.Fl)((()=>{switch(t.value){case"Add":return"添加";case"Edit":return"编辑";default:case"View":return"详情"}}));return{pageModel:t,pageModelName:a}}t["Z"]=(0,l.aZ)({name:"CUComponent",props:{showModalTips:{type:Boolean,required:!0}},setup(e,{slots:t}){const{showModalTips:a}=(0,r.BK)(e),o=(0,u.tv)(),i=(0,u.yj)(),d=()=>{m().then((e=>{if(e)if(history.state.back)o.go(-1);else{const e=i.name.replace(/Detail*/,"");o.push({name:e})}}))},p=()=>{o.push({name:i.name,params:{id:i.params.id,model:"Edit"}})},m=async()=>{if(!a.value)return!0;try{return await new Promise(((e,t)=>{s.Z.warning({title:"提示",content:"信息未保存，确定退出编辑？",closable:!0,cancelText:"取消",hideCancel:!1,onOk:()=>{e(!0)},onCancel:()=>{t(!1)}})})),!0}catch(e){return!1}},{pageModel:c,pageModelName:h}=n(),f=()=>(0,l.Wm)(l.HY,null,[(0,l.Wm)((0,l.up)("a-button"),{shape:"circle",type:"text",onClick:()=>d()},{default:()=>[(0,l.Wm)((0,l.up)("icon-left"),null,null)]}),(0,l.Wm)("span",null,[(0,l.Uk)(" "),h.value,(0,l.Uk)(" ")])]),g=()=>"View"===c.value?(0,l.Wm)((0,l.up)("a-space"),null,{default:()=>[t.extra?t.extra():(0,l.Wm)((0,l.up)("a-button"),{type:"primary",onClick:()=>p()},{default:()=>[(0,l.Wm)((0,l.up)("icon-edit"),null,null),(0,l.Uk)(" 编辑")]})]}):(0,l.Wm)((0,l.up)("a-space"),null,{default:()=>[t.extra?.(),(0,l.Wm)("div",null,null)]});return()=>(0,l.Wm)((0,l.up)("a-card"),null,{default:()=>[t.default?.({pageModel:c,pageModelName:h})],title:f,extra:g})}})},9262:function(e,t,a){var l=a(9003);t["Z"]=(0,l.aZ)({name:"sf-form",props:{model:{type:Object},layout:{type:String},size:{type:String},labelColProps:{type:Object},wrapperColProps:{type:Object},labelAlign:{type:String},disabled:{type:Boolean},rules:{type:Object},autoLabelWidth:{type:Boolean},formModel:{type:String,default:()=>"Edit"},labelWidth:{type:Number,default:()=>90},formMaxWidth:{type:[Number,Boolean],default:()=>1500}},setup(e,{slots:t}){(0,l.JJ)("formModel",e.formModel),(0,l.JJ)("labelWidth",e.labelWidth),(0,l.JJ)("disabled",e.disabled);const a=(0,l.iH)();return{validate(e){return a.value.validate(e)},render:()=>(0,l.Wm)((0,l.up)("a-form"),(0,l.dG)({ref:a},e,{style:e.formMaxWidth>1?`max-width:${e.formMaxWidth}px`:""}),{default:()=>[(0,l.Wm)((0,l.up)("a-row"),{gutter:8},{default:()=>[t.default?.()]})]})}},render(){return this.render()}})},8468:function(e,t,a){var l=a(9003),s=a(678);t["Z"]=(0,l.aZ)({name:"sf-form-item",props:{field:{type:String},label:{type:String},showColon:{type:Boolean},noStyle:{type:Boolean},disabled:{type:Boolean},help:{type:String},extra:{type:String},required:{type:Boolean},rules:{type:Object},validateStatus:{type:String},validateTrigger:{type:String},labelColProps:{type:Object},wrapperColProps:{type:Object},hideLabel:{type:Boolean},hideAsterisk:{type:Boolean},labelColStyle:{type:Object},wrapperColStyle:{type:Object},rowProps:{type:Object},rowClass:{type:Object},contentClass:{type:Object},contentFlex:{type:Boolean},mergeProps:{type:Boolean},labelColFlex:{type:[Number,String]},feedback:{type:Boolean},labelComponent:{type:String},labelAttrs:{type:Object},colProps:{type:Object,default:()=>({xs:24,sm:24,md:12,lg:12,xl:8})}},setup(e,{slots:t}){const a=(0,l.f3)("labelWidth"),r=(0,l.f3)("disabled"),u=(0,l.f3)("formModel"),n=e.labelColFlex||a+"px",o=(0,s.yj)();return()=>(0,l.Wm)((0,l.up)("a-col"),e.colProps,{default:()=>[(0,l.Wm)((0,l.up)("a-form-item"),(0,l.dG)({id:String(o.name)+"-"+e.field},e,{disabled:r||e.disabled,labelColFlex:n}),{default:()=>["View"===u&&t.view?.()||t.default?.()]})]})}})},4880:function(e,t,a){a.d(t,{Z:function(){return i}});var l=a(9003),s=a(678);function r(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var u=(0,l.aZ)({name:"BreadcrumbComponent",props:{items:{type:Array,default:()=>[]}},setup(e){(0,s.tv)();const{items:t}=(0,l.BK)(e);return()=>(0,l.Wm)((0,l.up)("a-breadcrumb"),{class:"container-breadcrumb"},{default:()=>[(0,l.Wm)((0,l.up)("a-breadcrumb-item"),null,{default:()=>[(0,l.Wm)((0,l.up)("icon-apps"),null,null)]}),t.value.map(((e,t)=>"string"==typeof e?(0,l.Wm)((0,l.up)("a-breadcrumb-item"),{key:t},r(e)?e:{default:()=>[e]}):(0,l.Wm)((0,l.up)("a-breadcrumb-item"),{key:t,onClick:()=>e.router(),class:"breadcrumb-clickable"},{default:()=>[e.name]})))]})}}),n=a(89);const o=(0,n.Z)(u,[["__scopeId","data-v-0dac1d28"]]);var i=o},2954:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var l=a(9003);const s={class:"user-detail container"},r=(0,l.Uk)("保存");function u(e,t,a,u,n,o){const i=(0,l.up)("Breadcrumb"),d=(0,l.up)("a-input"),p=(0,l.up)("SfFormItem"),m=(0,l.up)("a-button"),c=(0,l.up)("SfForm"),h=(0,l.up)("CUVue"),f=(0,l.up)("a-spin");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(i,{items:["模型管理","详情"]}),(0,l.Wm)(f,{loading:e.loading,style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{showModalTips:e.showModalTips},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{ref:"refForm",model:e.formData,formModel:e.pageModel,rules:e.rules},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{field:"name",label:"模型名称"},{view:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.name),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(d,{"max-length":50,modelValue:e.formData.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData.name=t),placeholder:"请输入模型名称"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(p,{field:"modelAddress",label:"模型地址"},{view:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.modelAddress),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(d,{"max-length":50,modelValue:e.formData.modelAddress,"onUpdate:modelValue":t[1]||(t[1]=t=>e.formData.modelAddress=t),placeholder:"请输入模型地址"},null,8,["modelValue"])])),_:1}),"View"!==e.pageModel?((0,l.wg)(),(0,l.j4)(p,{key:0,"col-props":{span:24}},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:e.save,type:"primary"},{default:(0,l.w5)((()=>[r])),_:1},8,["onClick"])])),_:1})):(0,l.kq)("",!0)])),_:1},8,["model","formModel","rules"])])),_:1},8,["showModalTips"])])),_:1},8,["loading"])])}var n=a(8518),o=a(9262),i=a(8468),d=a(7648),p=a(1109),m=a(1895),c=a(4880),h=a(678),f=a(9810),g=(0,l.aZ)({name:"user-detail",components:{CUVue:n.Z,SfForm:o.Z,SfFormItem:i.Z,Breadcrumb:c.Z},setup(){const e=(0,l.iH)(!1),t=(0,l.iH)({name:"",modelAddress:""}),a={name:(new m.Z).required("请输入模型名称").max(50,"模型名称最多50个字符").done(),modelAddress:(new m.Z).required("请输入模型地址").done()},s=(0,l.iH)(!1),{startWatch:r,stopWatch:u}=(0,d.F)(t,(()=>{s.value=!0})),{pageModel:o,pageModelName:i}=(0,n.x)(),c=(0,h.yj)(),g=()=>{e.value=!0,u.value?.(),f.Z.detail(c.params.id).then((e=>{t.value=e})).finally((()=>{e.value=!1}))};"Add"!==o.value&&g();const y=(0,h.tv)(),b=()=>{e.value=!0,f.Z.update(t.value).then((e=>{p.Z.success("修改成功"),y.go(-1)})).finally((()=>{e.value=!1}))},w=()=>{e.value=!0,f.Z.create(t.value).then((e=>{y.go(-1),p.Z.success("新增成功")})).finally((()=>{e.value=!1}))},v=(0,l.iH)(),W=()=>{v.value.validate((e=>{void 0===e&&("Add"===o.value?w():b())}))};return{loading:e,showModalTips:s,formData:t,pageModel:o,pageModelName:i,rules:a,refForm:v,save:W}}}),y=a(89);const b=(0,y.Z)(g,[["render",u],["__scopeId","data-v-77febe40"]]);var w=b}}]);