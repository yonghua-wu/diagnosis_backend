"use strict";(self["webpackChunkseeingflow_webapp"]=self["webpackChunkseeingflow_webapp"]||[]).push([[7],{1895:function(e,a,t){t.d(a,{Z:function(){return r}});var l=t(2482);class r{constructor(){(0,l.Z)(this,"rules",void 0),this.rules=[]}done(){return 0===this.rules.length?[{required:!1}]:this.rules}required(e){return this.rules.push({required:!0,message:e||"此字段必须"}),this}type(e,a){return this.rules.push({type:e,message:a||"数据类型不正确"}),this}length(e,a){return this.rules.push({length:e,message:a||"长度必须等于"+e}),this}maxLength(e,a){return this.rules.push({maxLength:e,message:a||"长度不能超过"+e}),this}minLength(e,a){return this.rules.push({minLength:e,message:a||"长度不能小于"+e}),this}match(e,a){return this.rules.push({match:e,message:a||"正则匹配失败"}),this}uppercase(e,a){return this.rules.push({uppercase:e,message:a||"必须大写"}),this}lowercase(e,a){return this.rules.push({lowercase:e,message:a||"必须小写"}),this}min(e,a){return this.rules.push({min:e,message:a||"数值不能小于"+e}),this}max(e,a){return this.rules.push({max:e,message:a||"数值不能大于"+e}),this}equal(e,a){return this.rules.push({equal:e,message:a||"数值必须等于"+e}),this}positive(e,a){return this.rules.push({positive:e,message:a||"必须正数"}),this}negative(e,a){return this.rules.push({negative:e,message:a||"必须负数"}),this}true(e,a){return this.rules.push({true:e,message:a||"必须为 true"}),this}false(e,a){return this.rules.push({false:e,message:a||"必须为 false"}),this}includes(e,a){return this.rules.push({includes:e,message:a||"匹配失败，必须是给定值之一"}),this}deepEqual(e,a){return this.rules.push({deepEqual:e,message:a||"匹配失败，必须是给定值"}),this}empty(e,a){return this.rules.push({empty:e,message:a||"必须为空"}),this}hasKeys(e,a){return this.rules.push({hasKeys:e,message:a||"必须包含指定属性"}),this}validator(e){return this.rules.push({validator:e}),this}phone(e){return this.match(/^1(3\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\d|9[0-35-9])\d{8}$/,e||"手机号码格式不正确"),this}idCard(e){return this.match(/^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,e||"身份证号码格式不正确"),this}numbersAndLetters(e){return this.match(/^[a-z0-9A-Z]+$/,e||"只能由数字和字母组成"),this}}},8518:function(e,a,t){t.d(a,{x:function(){return o}});var l=t(9003),r=t(6624),u=t(4419),s=t(678);function o(){const e=(0,s.yj)(),a=(0,l.iH)(e.params.model);(0,l.YP)((()=>e.params.model),(()=>{a.value=e.params.model}));const t=(0,l.Fl)((()=>{switch(a.value){case"Add":return"添加";case"Edit":return"编辑";default:case"View":return"详情"}}));return{pageModel:a,pageModelName:t}}a["Z"]=(0,l.aZ)({name:"CUComponent",props:{showModalTips:{type:Boolean,required:!0}},setup(e,{slots:a}){const{showModalTips:t}=(0,u.BK)(e),n=(0,s.tv)(),d=(0,s.yj)(),i=()=>{m().then((e=>{if(e)if(history.state.back)n.go(-1);else{const e=d.name.replace(/Detail*/,"");n.push({name:e})}}))},p=()=>{n.push({name:d.name,params:{id:d.params.id,model:"Edit"}})},m=async()=>{if(!t.value)return!0;try{return await new Promise(((e,a)=>{r.Z.warning({title:"提示",content:"信息未保存，确定退出编辑？",closable:!0,cancelText:"取消",hideCancel:!1,onOk:()=>{e(!0)},onCancel:()=>{a(!1)}})})),!0}catch(e){return!1}},{pageModel:c,pageModelName:h}=o(),f=()=>(0,l.Wm)(l.HY,null,[(0,l.Wm)((0,l.up)("a-button"),{shape:"circle",type:"text",onClick:()=>i()},{default:()=>[(0,l.Wm)((0,l.up)("icon-left"),null,null)]}),(0,l.Wm)("span",null,[(0,l.Uk)(" "),h.value,(0,l.Uk)(" ")])]),w=()=>"View"===c.value?(0,l.Wm)((0,l.up)("a-space"),null,{default:()=>[a.extra?a.extra():(0,l.Wm)((0,l.up)("a-button"),{type:"primary",onClick:()=>p()},{default:()=>[(0,l.Wm)((0,l.up)("icon-edit"),null,null),(0,l.Uk)(" 编辑")]})]}):(0,l.Wm)((0,l.up)("a-space"),null,{default:()=>[a.extra?.(),(0,l.Wm)("div",null,null)]});return()=>(0,l.Wm)((0,l.up)("a-card"),null,{default:()=>[a.default?.({pageModel:c,pageModelName:h})],title:f,extra:w})}})},9262:function(e,a,t){var l=t(9003);a["Z"]=(0,l.aZ)({name:"sf-form",props:{model:{type:Object},layout:{type:String},size:{type:String},labelColProps:{type:Object},wrapperColProps:{type:Object},labelAlign:{type:String},disabled:{type:Boolean},rules:{type:Object},autoLabelWidth:{type:Boolean},formModel:{type:String,default:()=>"Edit"},labelWidth:{type:Number,default:()=>90},formMaxWidth:{type:[Number,Boolean],default:()=>1500}},setup(e,{slots:a}){(0,l.JJ)("formModel",e.formModel),(0,l.JJ)("labelWidth",e.labelWidth),(0,l.JJ)("disabled",e.disabled);const t=(0,l.iH)();return{validate(e){return t.value.validate(e)},render:()=>(0,l.Wm)((0,l.up)("a-form"),(0,l.dG)({ref:t},e,{style:e.formMaxWidth>1?`max-width:${e.formMaxWidth}px`:""}),{default:()=>[(0,l.Wm)((0,l.up)("a-row"),{gutter:8},{default:()=>[a.default?.()]})]})}},render(){return this.render()}})},8468:function(e,a,t){var l=t(9003),r=t(678);a["Z"]=(0,l.aZ)({name:"sf-form-item",props:{field:{type:String},label:{type:String},showColon:{type:Boolean},noStyle:{type:Boolean},disabled:{type:Boolean},help:{type:String},extra:{type:String},required:{type:Boolean},rules:{type:Object},validateStatus:{type:String},validateTrigger:{type:String},labelColProps:{type:Object},wrapperColProps:{type:Object},hideLabel:{type:Boolean},hideAsterisk:{type:Boolean},labelColStyle:{type:Object},wrapperColStyle:{type:Object},rowProps:{type:Object},rowClass:{type:Object},contentClass:{type:Object},contentFlex:{type:Boolean},mergeProps:{type:Boolean},labelColFlex:{type:[Number,String]},feedback:{type:Boolean},labelComponent:{type:String},labelAttrs:{type:Object},colProps:{type:Object,default:()=>({xs:24,sm:24,md:12,lg:12,xl:8})}},setup(e,{slots:a}){const t=(0,l.f3)("labelWidth"),u=(0,l.f3)("disabled"),s=(0,l.f3)("formModel"),o=e.labelColFlex||t+"px",n=(0,r.yj)();return()=>(0,l.Wm)((0,l.up)("a-col"),e.colProps,{default:()=>[(0,l.Wm)((0,l.up)("a-form-item"),(0,l.dG)({id:String(n.name)+"-"+e.field},e,{disabled:u||e.disabled,labelColFlex:o}),{default:()=>["View"===s&&a.view?.()||a.default?.()]})]})}})},4880:function(e,a,t){t.d(a,{Z:function(){return d}});var l=t(9003),r=t(678);function u(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var s=(0,l.aZ)({name:"BreadcrumbComponent",props:{items:{type:Array,default:()=>[]}},setup(e){(0,r.tv)();const{items:a}=(0,l.BK)(e);return()=>(0,l.Wm)((0,l.up)("a-breadcrumb"),{class:"container-breadcrumb"},{default:()=>[(0,l.Wm)((0,l.up)("a-breadcrumb-item"),null,{default:()=>[(0,l.Wm)((0,l.up)("icon-apps"),null,null)]}),a.value.map(((e,a)=>"string"==typeof e?(0,l.Wm)((0,l.up)("a-breadcrumb-item"),{key:a},u(e)?e:{default:()=>[e]}):(0,l.Wm)((0,l.up)("a-breadcrumb-item"),{key:a,onClick:()=>e.router(),class:"breadcrumb-clickable"},{default:()=>[e.name]})))]})}}),o=t(89);const n=(0,o.Z)(s,[["__scopeId","data-v-0dac1d28"]]);var d=n},9007:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var l=t(9003);const r={class:"user-detail container"},u=(0,l.Uk)("男"),s=(0,l.Uk)("女"),o=(0,l.Uk)("初级职称"),n=(0,l.Uk)("中级职称"),d=(0,l.Uk)("副高级职称"),i=(0,l.Uk)("正高级职称"),p=(0,l.Uk)("保存");function m(e,a,t,m,c,h){const f=(0,l.up)("Breadcrumb"),w=(0,l.up)("a-input"),g=(0,l.up)("SfFormItem"),b=(0,l.up)("a-option"),y=(0,l.up)("a-select"),v=(0,l.up)("a-input-number"),W=(0,l.up)("a-button"),k=(0,l.up)("SfForm"),x=(0,l.up)("CUVue"),Z=(0,l.up)("a-spin");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(f,{items:["用户管理","详情"]}),(0,l.Wm)(Z,{loading:e.loading,style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{showModalTips:e.showModalTips},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{ref:"refForm",model:e.formData,formModel:e.pageModel,rules:e.rules},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{field:"realName",label:"用户姓名"},{view:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.realName),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(w,{"max-length":50,modelValue:e.formData.realName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formData.realName=a),placeholder:"请输入用户姓名"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(g,{field:"gender",label:"性别"},{view:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.realName),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:e.formData.gender,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formData.gender=a)},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{value:1},{default:(0,l.w5)((()=>[u])),_:1}),(0,l.Wm)(b,{value:2},{default:(0,l.w5)((()=>[s])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(g,{field:"workExperience",label:"工作年限"},{view:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.workExperience),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(v,{"max-length":50,modelValue:e.formData.workExperience,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.workExperience=a),placeholder:"请输入工作年限"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(g,{field:"title",label:"职称"},{view:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.title),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:e.formData.title,"onUpdate:modelValue":a[3]||(a[3]=a=>e.formData.title=a),placeholder:"请选择职称"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{value:1},{default:(0,l.w5)((()=>[o])),_:1}),(0,l.Wm)(b,{value:2},{default:(0,l.w5)((()=>[n])),_:1}),(0,l.Wm)(b,{value:3},{default:(0,l.w5)((()=>[d])),_:1}),(0,l.Wm)(b,{value:4},{default:(0,l.w5)((()=>[i])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(g,{field:"username",label:"登录账号"},{view:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.username),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(w,{"max-length":50,modelValue:e.formData.username,"onUpdate:modelValue":a[4]||(a[4]=a=>e.formData.username=a),placeholder:"请输入登录账号"},null,8,["modelValue"])])),_:1}),"Add"===e.pageModel?((0,l.wg)(),(0,l.j4)(g,{key:0,field:"password",label:"设置密码"},{view:(0,l.w5)((()=>[(0,l.Uk)((0,l.zw)(e.formData.password),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(w,{type:"password","max-length":50,modelValue:e.formData.password,"onUpdate:modelValue":a[5]||(a[5]=a=>e.formData.password=a),placeholder:"请输入设置密码"},null,8,["modelValue"])])),_:1})):(0,l.kq)("",!0),"View"!==e.pageModel?((0,l.wg)(),(0,l.j4)(g,{key:1,"col-props":{span:24}},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{onClick:e.save,type:"primary"},{default:(0,l.w5)((()=>[p])),_:1},8,["onClick"])])),_:1})):(0,l.kq)("",!0)])),_:1},8,["model","formModel","rules"])])),_:1},8,["showModalTips"])])),_:1},8,["loading"])])}var c=t(7166),h=t(8518),f=t(9262),w=t(8468),g=t(7648),b=t(1109),y=t(1895),v=t(4880),W=t(678),k=(0,l.aZ)({name:"user-detail",components:{CUVue:h.Z,SfForm:f.Z,SfFormItem:w.Z,Breadcrumb:v.Z},setup(){const e=(0,l.iH)(!1),a=(0,l.iH)({username:"",password:"",gender:1,workExperience:1,title:1,realName:""}),t={realName:(new y.Z).required("请输入用户姓名").done(),gender:(new y.Z).required("请选择性别").done(),workExperience:(new y.Z).required("请输入工作年限").done(),title:(new y.Z).required("请输入职称").done(),username:(new y.Z).required("请输入登录账号").done(),password:(new y.Z).required("请输入设置密码").done()},r=(0,l.iH)(!1),{startWatch:u,stopWatch:s}=(0,g.F)(a,(()=>{r.value=!0})),{pageModel:o,pageModelName:n}=(0,h.x)(),d=(0,W.yj)(),i=()=>{e.value=!0,s.value?.(),c.Z.detail(d.params.id).then((e=>{a.value=e})).finally((()=>{e.value=!1}))},p=(0,W.tv)(),m=()=>{e.value=!0,c.Z.update(a.value).then((e=>{b.Z.success("修改成功"),p.go(-1)})).finally((()=>{e.value=!1}))},f=()=>{e.value=!0,c.Z.create(a.value).then((e=>{p.go(-1),b.Z.success("新增成功")})).finally((()=>{e.value=!1}))},w=(0,l.iH)(),v=()=>{w.value.validate((e=>{void 0===e&&("Add"===o.value?f():m())}))};return i(),{loading:e,showModalTips:r,formData:a,pageModel:o,pageModelName:n,rules:t,refForm:w,save:v}}}),x=t(89);const Z=(0,x.Z)(k,[["render",m],["__scopeId","data-v-855cfda2"]]);var C=Z}}]);